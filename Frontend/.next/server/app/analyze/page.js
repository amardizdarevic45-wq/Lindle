(()=>{var e={};e.id=241,e.ids=[241],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8080:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(7096),s=t(6132),l=t(7284),o=t.n(l),n=t(2564),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let d=["",{children:["analyze",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6585)),"/home/runner/work/Lindle/Lindle/Frontend/src/app/analyze/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9113)),"/home/runner/work/Lindle/Lindle/Frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/work/Lindle/Lindle/Frontend/src/app/analyze/page.tsx"],u="/analyze/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/analyze/page",pathname:"/analyze",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6263:(e,r,t)=>{Promise.resolve().then(t.bind(t,1729))},1729:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>AnalyzePage});var a=t(784),s=t(9885),l=t(3141),o=t(1522),n=t(134),i=t(6606);function AnalyzePage(){let[e,r]=(0,s.useState)(null),[t,d]=(0,s.useState)("freelancer"),[c,u]=(0,s.useState)("standard"),[x,m]=(0,s.useState)(!1),[b,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(""),saveAnalysisToFirebase=async(e,r)=>{try{await (0,o.ET)((0,o.hJ)(n.db,"contractAnalyses"),{fileName:r,role:t,riskTolerance:c,summary:e.summary,redFlags:e.red_flags,pushbacks:e.pushbacks,tokensUsed:e.tokens_used,timestamp:new Date,createdAt:new Date().toISOString()}),console.log("Analysis saved to Firebase successfully")}catch(e){console.error("Error saving analysis to Firebase:",e)}},handleAnalyze=async r=>{if(r.preventDefault(),!e){alert("Please upload a file");return}let a=new FormData;a.append("file",e),a.append("role",t),a.append("risk_tolerance",c);try{m(!0),y("Analyzing…");let r=i.h.bl.H||"http://127.0.0.1:8000",t=await fetch(`${r}/analyze`,{method:"POST",body:a});if(!t.ok)throw Error(`Error: ${t.status}`);let s=await t.json();f(s),y(""),await saveAnalysisToFirebase(s,e.name)}catch(e){y(""),alert("Failed to analyze contract: "+e.message)}finally{m(!1)}},handleDownloadPdf=async()=>{if(!e){alert("Please upload a file first.");return}let r=new FormData;r.append("file",e),r.append("role",t),r.append("risk_tolerance",c);try{p(!0),y("Generating PDF…");let e=i.h.bl.H||"http://127.0.0.1:8000",t=await fetch(`${e}/analyze_pdf`,{method:"POST",body:r});if(!t.ok){y(""),alert("Failed to generate PDF");return}let a=await t.blob(),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download="contract_analysis.pdf",document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s),y("")}catch(e){y(""),alert("Error downloading PDF: "+e.message)}finally{p(!1)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 via-white to-purple-50 text-gray-900 min-h-screen flex flex-col",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"flex-grow",children:a.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:"w-full lg:w-1/2",children:(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm border border-white/30 rounded-2xl shadow-xl p-6 space-y-6 sticky top-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-[#0066FF] mb-2 text-left",children:"Smart. Clear. Fun"}),a.jsx("p",{className:"text-gray-600 text-left",children:"Upload a contract to get a summary, red flags, and pushback suggestions."})]}),(0,a.jsxs)("form",{onSubmit:handleAnalyze,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contract File"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:".pdf,.docx,.txt",onChange:e=>{e.target.files&&e.target.files[0]&&r(e.target.files[0])},className:"block w-full text-sm text-gray-700 border-2 border-dashed border-blue-200/50 bg-white/50 backdrop-blur-sm rounded-xl p-4 hover:border-blue-400/70 focus:border-blue-500 focus:outline-none transition-all file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",required:!0}),e&&(0,a.jsxs)("div",{className:"mt-2 flex items-center text-sm text-green-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.name]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Role"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"freelancer",label:"Freelancer"},{value:"consultant",label:"Consultant"},{value:"agency",label:"Agency"}].map(e=>a.jsx("button",{type:"button",onClick:()=>d(e.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 backdrop-blur-sm ${t===e.value?"bg-blue-500/20 border-2 border-blue-400/50 text-blue-700 shadow-lg":"bg-white/50 border-2 border-white/30 text-gray-700 hover:bg-blue-50/70 hover:border-blue-300/50 hover:text-blue-600"}`,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Risk Tolerance"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"cautious",label:"Cautious"},{value:"standard",label:"Standard"},{value:"bold",label:"Bold"}].map(e=>a.jsx("button",{type:"button",onClick:()=>u(e.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 backdrop-blur-sm ${c===e.value?"bg-emerald-500/20 border-2 border-emerald-400/50 text-emerald-700 shadow-lg":"bg-white/50 border-2 border-white/30 text-gray-700 hover:bg-emerald-50/70 hover:border-emerald-300/50 hover:text-emerald-600"}`,children:e.label},e.value))})]}),a.jsx("div",{className:"flex justify-start pt-2",children:a.jsx("button",{type:"submit",disabled:x,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl backdrop-blur-sm",children:x?"Analyzing...":"Analyze Contract"})}),g&&a.jsx("p",{className:"text-sm text-gray-500 text-left",children:g})]}),h&&a.jsx("div",{className:"pt-6 border-t border-white/30",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Download Your Review"}),a.jsx("button",{type:"button",onClick:handleDownloadPdf,disabled:b,className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white px-6 py-3 rounded-xl font-medium hover:from-emerald-700 hover:to-emerald-800 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl backdrop-blur-sm",children:b?"Generating PDF...":"Download PDF"})]})})]})}),a.jsx("div",{className:"w-full lg:w-1/2",children:h?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analysis Results"}),(0,a.jsxs)("div",{className:"rounded-2xl border-l-4 border-[#1d7bf7] bg-white/70 backdrop-blur-sm border border-white/30 p-6 shadow-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-[#1d7bf7]",children:"Summary"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:h.summary})]}),(0,a.jsxs)("div",{className:"rounded-2xl border-l-4 border-[#FFB400] bg-white/70 backdrop-blur-sm border border-white/30 p-6 shadow-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-[#FFB400]",children:"Red Flags"}),a.jsx("ul",{className:"list-disc list-outside pl-5 text-gray-700 space-y-1",children:h.red_flags.map((e,r)=>a.jsx("li",{children:e},r))})]}),(0,a.jsxs)("div",{className:"rounded-2xl border-l-4 border-[#28C76F] bg-white/70 backdrop-blur-sm border border-white/30 p-6 shadow-xl",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-[#28C76F]",children:"Pushbacks"}),a.jsx("ul",{className:"list-disc list-outside pl-5 text-gray-700 space-y-1",children:h.pushbacks.map((e,r)=>a.jsx("li",{children:e},r))})]})]}):(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm border border-white/30 rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analysis Yet"}),a.jsx("p",{className:"text-gray-500",children:'Upload a contract and click "Analyze Contract" to see results here.'})]})})]})})}),a.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-white/20 text-center py-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:"\xa9 2025 Lindle. All rights reserved."})})]})}},6585:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>l,default:()=>i});var a=t(5153);let s=(0,a.createProxy)(String.raw`/home/runner/work/Lindle/Lindle/Frontend/src/app/analyze/page.tsx`),{__esModule:l,$$typeof:o}=s,n=s.default,i=n}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[472,483,565,143,683],()=>__webpack_exec__(8080));module.exports=t})();